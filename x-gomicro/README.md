## 环境搭建
### 下载
```bash
go install github.com/micro/micro/v3
go install github.com/micro/go-micro/cmd/protoc-gen-micro@latest
```

Also required:
[protoc](https://github.com/protocolbuffers/protobuf)、
[protoc-gen-go](https://pkg.go.dev/google.golang.org/protobuf)

### 使用
Define your service as user.proto

```proto
syntax = "proto3";

package user;

option go_package = "user";

message User {
    string id = 1;
    string name = 2;
}
```

#### 生成代码

```bash
protoc --proto_path=. --micro_out=. --go_out=. ./user/user.proto
```



输出的文件如下
```
./
    user.proto	# original protobuf file
    user.pb.go	# auto-generated by protoc-gen-go
    user.micro.go	# auto-generated by protoc-gen-micro
The micro generated code includes clients and handlers which reduce boiler plate code
```

### 可能遇到的问题


```golang
// 生成出来的user.pb.micro.go文件使用的是go-micro.dev/v5的包
import (
	context "context"
	client "go-micro.dev/v5/client"
	server "go-micro.dev/v5/server"
)
```
需要获取这个包
```bash
go get -u go-micro.dev/v5
```